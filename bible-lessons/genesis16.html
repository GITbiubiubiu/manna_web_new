<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Genesis 16 - Hagar and Ishmael | Manna Bible App</title>
    <meta name="description" content="Learn about Hagar, Sarai's servant, and the birth of Ishmael in Genesis 16.">
    <link rel="stylesheet" href="../styles.css">
    <link rel="stylesheet" href="../css/lesson-content.css">
    <link rel="icon" href="../public/images/icon.png" type="image/png">
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="navbar-container">
            <a href="../index.html" class="navbar-logo">
                <img src="../public/images/icon.png" alt="Manna Logo" class="logo-img">
                <span class="logo-text">Manna</span>
            </a>
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="../index.html" class="nav-link">Home</a>
                </li>
                <li class="nav-item">
                    <a href="../bible-lessons.html" class="nav-link active">Bible Lessons</a>
                </li>
                <li class="nav-item">
                    <a href="../prayers.html" class="nav-link">Prayers</a>
                </li>
                <li class="nav-item">
                    <a href="../resources.html" class="nav-link">Resources</a>
                </li>
            </ul>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="lesson-container">
        <div class="lesson-header">
            <h1>Genesis 16: Hagar and Ishmael</h1>
            <div class="lesson-progress-container">
                <div class="lesson-progress-bar">
                    <div class="lesson-progress" id="lessonProgress"></div>
                </div>
                <div class="lesson-progress-text">
                    <span id="progressText">0% Complete</span>
                </div>
            </div>
        </div>

        <!-- Lesson Content -->
        <div class="lesson-content">
            <!-- Section 1 -->
            <section class="lesson-section" id="section1">
                <div class="lesson-card">
                    <div class="lesson-card-header">
                        <h2>Hagar and Sarai's Conflict</h2>
                        <span class="bible-reference">Genesis 16:1-6</span>
                    </div>
                    <div class="lesson-card-body">
                        <div class="key-points">
                            <h3>Key Points:</h3>
                            <ul>
                                <li>Sarai gives her servant Hagar to Abram to bear a child</li>
                                <li>Hagar becomes proud after conceiving, causing tension with Sarai</li>
                                <li>Sarai mistreats Hagar, leading Hagar to flee</li>
                            </ul>
                        </div>
                        <div class="verse-highlight">
                            <p class="verse-text">"So Abram said to Sarai, 'Indeed your maid is in your hand; do to her as you please.' And when Sarai dealt harshly with her, she fled from her presence."</p>
                            <p class="verse-reference">Genesis 16:6</p>
                        </div>
                    </div>
                    <div class="lesson-card-footer">
                        <button class="btn-detail" onclick="toggleDetail(1)">Learn More</button>
                        <button class="btn-next" onclick="nextSection(1)">Next</button>
                    </div>
                </div>
                <div class="lesson-detail" id="detail1">
                    <p>This section begins with Sarai, Abram's wife, feeling desperate because she cannot have children. She decides to give her Egyptian servant, Hagar, to Abram so that Hagar can bear a child for them. When Hagar becomes pregnant, she starts to look down on Sarai, which causes Sarai to become upset. Sarai blames Abram for the problem, and Abram tells her to handle Hagar as she sees fit. Sarai then treats Hagar harshly, leading Hagar to run away into the wilderness. This shows how human plans can lead to conflict when not aligned with God's timing.</p>
                    <button class="btn-close-detail" onclick="toggleDetail(1)">Close</button>
                </div>
            </section>

            <!-- Section 2 -->
            <section class="lesson-section" id="section2">
                <div class="lesson-card">
                    <div class="lesson-card-header">
                        <h2>The Angel Meets Hagar in the Wilderness</h2>
                        <span class="bible-reference">Genesis 16:7-12</span>
                    </div>
                    <div class="lesson-card-body">
                        <div class="key-points">
                            <h3>Key Points:</h3>
                            <ul>
                                <li>An angel finds Hagar by a spring and speaks to her</li>
                                <li>The angel tells Hagar to return and submit to Sarai</li>
                                <li>The angel promises Hagar many descendants through her son Ishmael</li>
                            </ul>
                        </div>
                        <div class="verse-highlight">
                            <p class="verse-text">"Then the Angel of the LORD said to her, 'Behold, you are with child, and you shall bear a son. You shall call his name Ishmael, because the LORD has heard your affliction.'"</p>
                            <p class="verse-reference">Genesis 16:11</p>
                        </div>
                    </div>
                    <div class="lesson-card-footer">
                        <button class="btn-detail" onclick="toggleDetail(2)">Learn More</button>
                        <button class="btn-next" onclick="nextSection(2)">Next</button>
                    </div>
                </div>
                <div class="lesson-detail" id="detail2">
                    <p>While Hagar is alone in the wilderness, an angel of the Lord finds her near a spring. The angel asks Hagar where she is going and tells her to return to Sarai and submit to her. The angel also gives Hagar a promise: her descendants will be too many to count, and her son, Ishmael, will be strong but live in conflict with others. This moment shows that God cares for those who are hurting, even when they feel forgotten. Hagar is reminded that God sees her struggles and has a plan for her future.</p>
                    <button class="btn-close-detail" onclick="toggleDetail(2)">Close</button>
                </div>
            </section>

            <!-- Section 3 -->
            <section class="lesson-section" id="section3">
                <div class="lesson-card">
                    <div class="lesson-card-header">
                        <h2>Hagar Names God and Returns</h2>
                        <span class="bible-reference">Genesis 16:13-16</span>
                    </div>
                    <div class="lesson-card-body">
                        <div class="key-points">
                            <h3>Key Points:</h3>
                            <ul>
                                <li>Hagar calls God 'The God Who Sees' after her encounter</li>
                                <li>Hagar obeys the angel and returns to Abram and Sarai</li>
                                <li>Ishmael is born, fulfilling God's promise</li>
                            </ul>
                        </div>
                        <div class="verse-highlight">
                            <p class="verse-text">"Then she called the name of the LORD who spoke to her, You-Are-the-God-Who-Sees; for she said, 'Have I also here seen Him who sees me?'"</p>
                            <p class="verse-reference">Genesis 16:13</p>
                        </div>
                    </div>
                    <div class="lesson-card-footer">
                        <button class="btn-detail" onclick="toggleDetail(3)">Learn More</button>
                        <button class="btn-next" onclick="nextSection(3)">Next</button>
                    </div>
                </div>
                <div class="lesson-detail" id="detail3">
                    <p>After speaking with the angel, Hagar realizes that God has truly seen her pain. She gives God a special name, 'El Roi,' meaning 'The God Who Sees.' This is a powerful moment because it shows Hagar's personal encounter with God. She obeys the angel and returns to Abram and Sarai. Later, she gives birth to Ishmael, fulfilling part of God's promise. This teaches us that even in difficult situations, God is aware of our needs and has a purpose for our lives.</p>
                    <button class="btn-close-detail" onclick="toggleDetail(3)">Close</button>
                </div>
            </section>

            <!-- Quiz Section -->
            <section class="lesson-quiz" id="quizSection">
                <div class="quiz-header">
                    <h2>Test Your Knowledge</h2>
                    <p>Answer these questions to check your understanding of Genesis 16.</p>
                </div>
                <div class="quiz-questions">
                    <!-- Question 1 -->
                    <div class="quiz-question">
                        <p class="question-text">1. Why did Sarai give Hagar to Abram?</p>
                        <div class="question-options">
                            <label class="option">
                                <input type="radio" name="q1" value="A"> A. To help with household chores
                            </label>
                            <label class="option">
                                <input type="radio" name="q1" value="B"> B. To bear a child for them
                            </label>
                            <label class="option">
                                <input type="radio" name="q1" value="C"> C. To send her away permanently
                            </label>
                            <label class="option">
                                <input type="radio" name="q1" value="D"> D. To teach her a lesson
                            </label>
                        </div>
                        <div class="question-hint" id="hint1">
                            <p>Hint: Genesis 16:2</p>
                        </div>
                    </div>

                    <!-- Question 2 -->
                    <div class="quiz-question">
                        <p class="question-text">2. What did the angel promise Hagar about her son?</p>
                        <div class="question-options">
                            <label class="option">
                                <input type="radio" name="q2" value="A"> A. He would be a great king
                            </label>
                            <label class="option">
                                <input type="radio" name="q2" value="B"> B. He would live in peace with everyone
                            </label>
                            <label class="option">
                                <input type="radio" name="q2" value="C"> C. His descendants would be too many to count
                            </label>
                            <label class="option">
                                <input type="radio" name="q2" value="D"> D. He would never face hardship
                            </label>
                        </div>
                        <div class="question-hint" id="hint2">
                            <p>Hint: Genesis 16:10</p>
                        </div>
                    </div>

                    <!-- Question 3 -->
                    <div class="quiz-question">
                        <p class="question-text">3. What name did Hagar give to God after their encounter?</p>
                        <div class="question-options">
                            <label class="option">
                                <input type="radio" name="q3" value="A"> A. The Almighty
                            </label>
                            <label class="option">
                                <input type="radio" name="q3" value="B"> B. The God Who Sees
                            </label>
                            <label class="option">
                                <input type="radio" name="q3" value="C"> C. The Lord of Hosts
                            </label>
                            <label class="option">
                                <input type="radio" name="q3" value="D"> D. The Everlasting Father
                            </label>
                        </div>
                        <div class="question-hint" id="hint3">
                            <p>Hint: Genesis 16:13</p>
                        </div>
                    </div>

                    <div class="quiz-buttons">
                        <button class="btn-hint" onclick="toggleAllHints()">Show Hints</button>
                        <button class="btn-submit" onclick="checkAnswers()">Submit Answers</button>
                    </div>
                    <div class="quiz-results" id="quizResults"></div>
                </div>
            </section>

            <!-- Completion Section -->
            <section class="lesson-completion" id="completionSection">
                <div class="completion-card">
                    <div class="completion-header">
                        <h2>Lesson Complete!</h2>
                        <div class="completion-icon">✓</div>
                    </div>
                    <div class="completion-body">
                        <p>Congratulations on completing Genesis 16! You've learned about Hagar, Ishmael, and God's care for those who feel forgotten.</p>
                        <p>Key takeaways:</p>
                        <ul>
                            <li>God sees and cares for everyone, even those who feel overlooked</li>
                            <li>Human attempts to fulfill God's promises can lead to complications</li>
                            <li>God's plans include even those who are marginalized</li>
                        </ul>
                    </div>
                    <div class="completion-footer">
                        <a href="genesis17.html" class="btn-next-lesson">Next Lesson: Genesis 17</a>
                        <a href="../bible-lessons.html" class="btn-all-lessons">All Lessons</a>
                    </div>
                </div>
                <div class="app-download">
                    <div class="app-download-text">
                        <h3>Continue your Bible study journey with the Manna App</h3>
                        <p>Track your progress, earn achievements, and deepen your understanding of Scripture.</p>
                    </div>
                    <div class="app-download-buttons">
                        <a href="#" class="download-button">
                            <img src="../public/images/download.png" alt="Download App">
                            <span>Download Now</span>
                        </a>
                        <div class="qr-code">
                            <img src="../public/images/qrcode.png" alt="QR Code">
                            <span>Scan to Download</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Bible Text Section -->
            <section class="bible-text-section" id="bibleTextSection">
                <div class="bible-text-header">
                    <h2>Genesis 16 - Full Text</h2>
                    <div class="bible-text-controls">
                        <button class="btn-font-size" onclick="decreaseFontSize()">A-</button>
                        <button class="btn-font-size" onclick="increaseFontSize()">A+</button>
                    </div>
                </div>
                <div class="bible-text" id="bibleText">
                    <p><sup>1</sup> Now Sarai, Abram's wife, had borne him no children. And she had an Egyptian maidservant whose name was Hagar.</p>
                    <p><sup>2</sup> So Sarai said to Abram, "See now, the LORD has restrained me from bearing children. Please, go in to my maid; perhaps I shall obtain children by her." And Abram heeded the voice of Sarai.</p>
                    <p><sup>3</sup> Then Sarai, Abram's wife, took Hagar her maid, the Egyptian, and gave her to her husband Abram to be his wife, after Abram had dwelt ten years in the land of Canaan.</p>
                    <p><sup>4</sup> So he went in to Hagar, and she conceived. And when she saw that she had conceived, her mistress became despised in her eyes.</p>
                    <p><sup>5</sup> Then Sarai said to Abram, "My wrong be upon you! I gave my maid into your embrace; and when she saw that she had conceived, I became despised in her eyes. The LORD judge between you and me."</p>
                    <p><sup>6</sup> So Abram said to Sarai, "Indeed your maid is in your hand; do to her as you please." And when Sarai dealt harshly with her, she fled from her presence.</p>
                    <p><sup>7</sup> Now the Angel of the LORD found her by a spring of water in the wilderness, by the spring on the way to Shur.</p>
                    <p><sup>8</sup> And He said, "Hagar, Sarai's maid, where have you come from, and where are you going?" She said, "I am fleeing from the presence of my mistress Sarai."</p>
                    <p><sup>9</sup> The Angel of the LORD said to her, "Return to your mistress, and submit yourself under her hand."</p>
                    <p><sup>10</sup> Then the Angel of the LORD said to her, "I will multiply your descendants exceedingly, so that they shall not be counted for multitude."</p>
                    <p><sup>11</sup> And the Angel of the LORD said to her: "Behold, you are with child, And you shall bear a son. You shall call his name Ishmael, Because the LORD has heard your affliction.</p>
                    <p><sup>12</sup> He shall be a wild man; His hand shall be against every man, And every man's hand against him. And he shall dwell in the presence of all his brethren."</p>
                    <p><sup>13</sup> Then she called the name of the LORD who spoke to her, You-Are-the-God-Who-Sees; for she said, "Have I also here seen Him who sees me?"</p>
                    <p><sup>14</sup> Therefore the well was called Beer Lahai Roi; observe, it is between Kadesh and Bered.</p>
                    <p><sup>15</sup> So Hagar bore Abram a son; and Abram named his son, whom Hagar bore, Ishmael.</p>
                    <p><sup>16</sup> Abram was eighty-six years old when Hagar bore Ishmael to Abram.</p>
                </div>
            </section>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-container">
            <div class="footer-logo">
                <img src="../public/images/icon.png" alt="Manna Logo" class="logo-img">
                <span class="logo-text">Manna</span>
            </div>
            <div class="footer-links">
                <div class="footer-links-column">
                    <h3>Learn</h3>
                    <ul>
                        <li><a href="../bible-lessons.html">Bible Lessons</a></li>
                        <li><a href="../prayers.html">Prayers</a></li>
                        <li><a href="../resources.html">Resources</a></li>
                    </ul>
                </div>
                <div class="footer-links-column">
                    <h3>Connect</h3>
                    <ul>
                        <li><a href="#">Community</a></li>
                        <li><a href="#">Contact Us</a></li>
                        <li><a href="#">Support</a></li>
                    </ul>
                </div>
                <div class="footer-links-column">
                    <h3>Legal</h3>
                    <ul>
                        <li><a href="#">Terms of Service</a></li>
                        <li><a href="#">Privacy Policy</a></li>
                        <li><a href="#">Cookie Policy</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-social">
                <a href="#" class="social-icon"><img src="../public/images/tt.png" alt="TikTok"></a>
                <a href="#" class="social-icon"><img src="../public/images/ins.png" alt="Instagram"></a>
                <a href="#" class="social-icon"><img src="../public/images/discard.png" alt="Discord"></a>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 Manna Bible App. All rights reserved.</p>
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
        // Variables to track progress
        const totalSections = 3;
        let completedSections = 0;
        let hintsVisible = false;
        let quizCompleted = false;
        let fontSizeLevel = 2; // Default font size level (1-5)

        // Initialize when the page loads
        document.addEventListener('DOMContentLoaded', function() {
            updateProgress();
            hideAllDetails();
            hideCompletionSection();
        });

        // Toggle detail section visibility
        function toggleDetail(sectionNum) {
            const detailSection = document.getElementById(`detail${sectionNum}`);
            if (detailSection.style.display === 'block') {
                detailSection.style.display = 'none';
            } else {
                hideAllDetails();
                detailSection.style.display = 'block';
                markSectionComplete(sectionNum);
            }
        }

        // Hide all detail sections
        function hideAllDetails() {
            const detailSections = document.querySelectorAll('.lesson-detail');
            detailSections.forEach(section => {
                section.style.display = 'none';
            });
        }

        // Move to the next section
        function nextSection(currentSection) {
            markSectionComplete(currentSection);
            
            if (currentSection < totalSections) {
                const nextSectionElement = document.getElementById(`section${currentSection + 1}`);
                if (nextSectionElement) {
                    nextSectionElement.scrollIntoView({ behavior: 'smooth' });
                }
            } else {
                // If all sections are complete, show the quiz
                document.getElementById('quizSection').scrollIntoView({ behavior: 'smooth' });
            }
        }

        // Mark a section as complete
        function markSectionComplete(sectionNum) {
            // Check if this section was already completed
            if (!document.getElementById(`section${sectionNum}`).classList.contains('completed')) {
                document.getElementById(`section${sectionNum}`).classList.add('completed');
                completedSections++;
                updateProgress();
            }
        }

        // Update the progress bar and text
        function updateProgress() {
            const progressPercent = Math.round((completedSections / totalSections) * 100);
            document.getElementById('lessonProgress').style.width = `${progressPercent}%`;
            document.getElementById('progressText').textContent = `${progressPercent}% Complete`;
            
            // Show completion section if all sections and quiz are complete
            if (completedSections >= totalSections && quizCompleted) {
                showCompletionSection();
            }
        }

        // Toggle visibility of all hints
        function toggleAllHints() {
            hintsVisible = !hintsVisible;
            const hints = document.querySelectorAll('.question-hint');
            hints.forEach(hint => {
                hint.style.display = hintsVisible ? 'block' : 'none';
            });
            
            const hintButton = document.querySelector('.btn-hint');
            hintButton.textContent = hintsVisible ? 'Hide Hints' : 'Show Hints';
        }

        // Check quiz answers
        function checkAnswers() {
            const correctAnswers = {
                q1: 'B',
                q2: 'C',
                q3: 'B'
            };
            
            let score = 0;
            let feedback = '';
            
            // Check each question
            for (let q = 1; q <= 3; q++) {
                const selectedOption = document.querySelector(`input[name="q${q}"]:checked`);
                if (selectedOption) {
                    if (selectedOption.value === correctAnswers[`q${q}`]) {
                        score++;
                        feedback += `<p>Question ${q}: <span class="correct">Correct!</span></p>`;
                    } else {
                        feedback += `<p>Question ${q}: <span class="incorrect">Incorrect.</span> The correct answer is ${correctAnswers[`q${q}`]}.</p>`;
                    }
                } else {
                    feedback += `<p>Question ${q}: <span class="unanswered">Not answered.</span></p>`;
                }
            }
            
            // Display results
            const resultsDiv = document.getElementById('quizResults');
            resultsDiv.innerHTML = `
                <h3>Your Score: ${score}/3</h3>
                ${feedback}
            `;
            resultsDiv.style.display = 'block';
            
            // Mark quiz as completed if score is perfect
            if (score === 3) {
                quizCompleted = true;
                updateProgress();
            }
        }

        // Show completion section
        function showCompletionSection() {
            document.getElementById('completionSection').style.display = 'block';
            document.getElementById('completionSection').scrollIntoView({ behavior: 'smooth' });
        }

        // Hide completion section
        function hideCompletionSection() {
            document.getElementById('completionSection').style.display = 'none';
        }

        // Font size controls for Bible text
        function increaseFontSize() {
            if (fontSizeLevel < 5) {
                fontSizeLevel++;
                updateBibleTextFontSize();
            }
        }

        function decreaseFontSize() {
            if (fontSizeLevel > 1) {
                fontSizeLevel--;
                updateBibleTextFontSize();
            }
        }

        function updateBibleTextFontSize() {
            const bibleText = document.getElementById('bibleText');
            const baseFontSize = 16; // Base font size in pixels
            const newSize = baseFontSize + ((fontSizeLevel - 2) * 2); // Adjust by 2px per level
            bibleText.style.fontSize = `${newSize}px`;
        }
    </script>
</body>
</html>
